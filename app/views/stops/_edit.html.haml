.container
  .row
    .col-xs-1
      %i.fa.fa-map.fa-fw
    .col-xs-9
      .row
        .col-xs-12
          = destination.street
      .row
        .col-xs-12
          = destination.postalcode
          = destination.city
      .row
        .col-xs-12
          = destination.country

  - if destination.detail
    .row
      .col-xs-1
        %i.fa.fa-circle-info
      .col-xs-9
        = destination.detail
  - if destination.comment
    .row
      .col-xs-1
        %i.fa.fa-comment-dots
      .col-xs-9
        = destination.comment
  - if destination.phone_number
    .row
      .col-xs-1
        %i.fa.fa-phone
      .col-xs-9
        %a{ href: "tel:#{destination.phone_number}" }
          = destination.phone_number

  - if visit&.time_window_start_1
    .row
      .col-xs-1
        %i.fa.fa-clock.fa-fw
      .col-xs-9
        = visit.time_window_start_1_time
        \-
        = visit.time_window_end_1_time
  - if visit&.time_window_start_2
    .row
      .col-xs-1
        %i.fa.fa-clock.fa-fw
      .col-xs-9
        = visit.time_window_start_2_time
        \-
        = visit.time_window_end_2_time

  - if visit.default_quantities?
    - visit_quantities(stop.visit, @route.vehicle_usage.vehicle).each do |units|
      .row
        .col-xs-1
          %i.fa.fa-fw{ class: units[:unit_icon] }
        .col-xs-9
          .quantity
            = units[:quantity_formatted]
  .row
    .form-group
      =  bootstrap_form_for stop, url: stop_path, method: :patch, remote: true do |f|
        %label{ for: 'active_status' }
          Status
        .input-group
          #radiobtn.btn-group
            %a.btn.btn-primary{ data: { toggle: 'active_status', title: 'intransit' }, class: ('active' if stop.status == 'intransit') }
              = t('plannings.edit.stop_status.intransit')
            %a.btn.btn-success{ data: { toggle: 'active_status', title: 'delivered' }, class: ('active' if stop.status == 'delivered') }
              = t('plannings.edit.stop_status.delivered')
            %a.btn.btn-warning{ data: { toggle: 'active_status', title: 'exception' }, class: ('active' if stop.status == 'exception') }
              = t('plannings.edit.stop_status.exception')
            %a.btn.btn-danger{ data: { toggle: 'active_status', title: 'undelivered' }, class: ('active' if stop.status == 'undelivered')}
              = t('plannings.edit.stop_status.undelivered')
          = f.hidden_field :position, { name: 'stop[position]', id: 'active_status_position' }
          = f.hidden_field :status_updated_at, { name: 'stop[status_updated_at]', id: 'active_status_updated_at' }
          = f.hidden_field :status, { name: 'stop[status]', id: 'active_status', onchange: "this.form.submit()" }
          = f.hidden_field :id, { name: 'stop_id' }
